$schema: https://json-schema.org/draft/2020-12/schema
$id: SumGjeldOrdre.yaml
type: object
properties:
  type:
    type: string
    const: sumgjeld
required:
  - type
allOf:
  - $ref: "#/$defs/BasicProduct"
description: |-
  SumGjeld
  Order and handle total debt
$defs:
  BasicProduct:
    type: object
    properties:
      ordreId:
        type: string
      estateId:
        type: string
      oppdragsnummer:
        type: string
      registerenhet:
        $ref: "#/$defs/Registerenhet"
      bestiller:
        $ref: "#/$defs/Kontaktinfo"
      meglerkontor:
        $ref: "#/$defs/Meglerkontor"
      kontaktperson:
        $ref: "#/$defs/Kontaktinfo"
    required:
      - ordreId
      - registerenhet
      - bestiller
      - meglerkontor
      - kontaktperson
    description: Common request type for all product types
  Registerenhet:
    type: object
    properties:
      type:
        $ref: "#/$defs/RegisterenhetType"
      ident:
        type: string
    required:
      - type
      - ident
  Kontaktinfo:
    type: object
    properties:
      id:
        type: string
      navn:
        type: string
      epost:
        type: string
      telefon:
        type: string
    required:
      - id
      - navn
      - epost
  Meglerkontor:
    type: object
    properties:
      orgnr:
        type: string
      avdelingsnr:
        type: string
      navn:
        type: string
      adresse:
        $ref: "#/$defs/Adresse"
      telefon:
        type: string
    required:
      - orgnr
      - avdelingsnr
      - navn
      - adresse
  RegisterenhetType:
    type: string
    enum:
      - matrikkel
      - borettsandel
      - aksjeandel
      - obligasjonsandel
  Adresse:
    type: object
    properties:
      gateadresse:
        type: string
      postnummer:
        type: string
      poststed:
        type: string
    required:
      - gateadresse
      - postnummer
      - poststed
