$schema: https://json-schema.org/draft/2020-12/schema
$id: BoliginformasjonResponse.yaml
type: object
properties:
  type:
    type: string
    const: boliginformasjon
  forkjopsrett:
    type: object
    properties:
      harForkjopsrett:
        type: boolean
      kanForhandsutlyses:
        type: boolean
      intern:
        type: boolean
      bestillingsformat:
        $ref: "#/$defs/BestillingsFormat"
      mottakerType:
        $ref: "#/$defs/BestillingsmottakerType"
      gebyr:
        type: integer
    required:
      - harForkjopsrett
  styregodkjenning:
    type: object
    properties:
      pakrevd:
        type: boolean
      bestillingsformat:
        $ref: "#/$defs/BestillingsFormat"
      mottakerType:
        $ref: "#/$defs/BestillingsmottakerType"
    required:
      - pakrevd
  salgsmelding:
    type: object
    properties:
      bestillingsformat:
        $ref: "#/$defs/BestillingsFormat"
      gebyr:
        type: integer
    required:
      - bestillingsformat
  restanse:
    type: object
    properties:
      bestillingsformat:
        $ref: "#/$defs/BestillingsFormat"
    required:
      - bestillingsformat
  andreHensyn:
    type: string
required:
  - type
  - forkjopsrett
  - styregodkjenning
  - salgsmelding
  - restanse
allOf:
  - $ref: "#/$defs/BasicResponse"
description: |-
  Boliginformasjon
  required - used to report information on requested property
$defs:
  BestillingsFormat:
    type: string
    enum:
      - Manuelt
      - Elektronisk
  BestillingsmottakerType:
    type: string
    enum:
      - forretningsforer
      - lag
  BasicResponse:
    type: object
    properties:
      type:
        anyOf:
          - type: string
            const: boliginformasjon
          - type: string
            const: forhandsutlysingtidlig
          - type: string
            const: forhandsutlysingutsatt
          - type: string
            const: forhandsutlysingsen
          - type: string
            const: forhandsutlysingutlopt
          - type: string
            const: salgsmeldingmottatt
          - type: string
            const: salgsmeldingoppdatering
          - type: string
            const: salgsmeldingfullfort
          - type: string
            const: endringoverdragelse
          - type: string
            const: endringkjoperemottatt
          - type: string
            const: endringkjoperefullfort
          - type: string
            const: sluttbrevakseptert
          - type: string
            const: sumgjeld
          - type: string
            const: sumfelleskostnader
          - type: string
            const: feil
      ordreId:
        type: string
      forretningsforer:
        $ref: "#/$defs/Forretningsforer"
      klient:
        $ref: "#/$defs/Klient"
      levert:
        $ref: "#/$defs/ISODateTime"
      referanse:
        type: string
      eierform:
        anyOf:
          - type: string
            const: Aksjon√§r
          - type: string
            const: Andelseier
          - type: string
            const: Sameier
          - type: string
            const: Seksjonseier
    required:
      - type
      - ordreId
      - forretningsforer
  Forretningsforer:
    type: object
    properties:
      navn:
        type: string
      adresse:
        $ref: "#/$defs/Adresse"
      epost:
        type: string
      epostRestanse:
        type: string
    required:
      - navn
      - adresse
  Klient:
    type: object
    properties:
      klienttype:
        type: string
      organisasjonsnavn:
        type: string
      organisasjonsnummer:
        type: string
      epost:
        type: string
      nettside:
        type: string
      styreleder:
        $ref: "#/$defs/Styreleder"
    required:
      - klienttype
      - organisasjonsnavn
      - organisasjonsnummer
  ISODateTime:
    type: string
    pattern: ^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(Z|[+-][0-9]{2}:[0-9]{2})$
  Adresse:
    type: object
    properties:
      gateadresse:
        type: string
      postnummer:
        type: string
      poststed:
        type: string
    required:
      - gateadresse
      - postnummer
      - poststed
  Styreleder:
    type: object
    properties:
      navn:
        type: string
      epost:
        type: string
      telefonnr:
        type: string
    required:
      - navn
