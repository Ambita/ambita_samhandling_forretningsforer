---
---
<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {%- include head.html -%}
  <style>
    /* Import Google Fonts */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=PT+Serif:wght@400;700&display=swap');
    
    /* Ambita Design Tokens */
    :root {
      /* Colors - Primary */
      --ambita-purple-600: #0d0a27;
      --ambita-purple-500: #381c4d;
      --ambita-purple-400: #ad83cc;
      --ambita-purple-300: #deb9f9;
      --ambita-purple-200: #e9d7ff;
      --ambita-purple-100: #f3edf7;
      
      /* Colors - Neutral */
      --ambita-white: #ffffff;
      --ambita-focus: #3a2ea3;
      --ambita-grey-400: #555555;
      --ambita-grey-300: #bebebe;
      --ambita-grey-200: #e1e1e1;
      --ambita-grey-100: #f5f5f5;
      
      /* Colors - Peach */
      --ambita-peach-300: #f8c087;
      --ambita-peach-200: #ffe9d0;
      --ambita-peach-100: #fff4e7;
      
      /* Typography */
      --font-family-title: 'Inter', sans-serif;
      --font-family-display: 'PT Serif', serif;
      --font-family-body: 'Inter', sans-serif;
      
      /* Font Sizes */
      --font-size-50: 50px;
      --font-size-30: 30px;
      --font-size-22: 22px;
      --font-size-20: 20px;
      --font-size-18: 18px;
      --font-size-16: 16px;
      --font-size-12: 12px;
      
      /* Font Weights */
      --font-weight-regular: 400;
      --font-weight-medium: 500;
      --font-weight-semibold: 600;
      --font-weight-bold: 700;
      
      /* Spacing */
      --spacing-xs: 5px;
      --spacing-s: 10px;
      --spacing-m: 15px;
      --spacing-l: 20px;
      --spacing-xl: 25px;
      --spacing-2xl: 30px;
      
      /* Border Radius */
      --border-radius-xs: 2px;
      --border-radius-s: 5px;
      --border-radius-m: 10px;
      --border-radius-l: 20px;
    }
    
    /* Global Typography */
    body {
      font-family: var(--font-family-body);
      color: var(--ambita-purple-600);
      line-height: 1.5;
    }
    
    h1, h2, h3, h4, h5, h6 {
      font-family: var(--font-family-title);
      color: var(--ambita-purple-600);
      font-weight: var(--font-weight-regular);
    }
    
    h1 {
      font-size: var(--font-size-50);
      line-height: 54px;
    }
    
    h2 {
      font-size: var(--font-size-30);
      line-height: 34px;
    }
    
    h3 {
      font-size: var(--font-size-22);
    }
    
    h4 {
      font-size: var(--font-size-20);
    }
    
    /* Layout */
    .content-wrapper {
      display: flex;
      gap: var(--spacing-2xl);
      margin-top: var(--spacing-l);
    }
    
    .sidebar {
      flex: 0 0 280px;
      min-width: 280px;
    }
    
    .main-content {
      flex: 1;
      min-width: 0;
    }
    
    /* Sidebar Navigation - Ambita Branded */
    .site-nav-sidebar {
      background: var(--ambita-purple-100);
      border: 1px solid var(--ambita-purple-200);
      border-radius: var(--border-radius-m);
      padding: var(--spacing-l);
      position: sticky;
      top: var(--spacing-l);
    }
    
    .site-nav-sidebar h3 {
      margin: 0 0 var(--spacing-l) 0;
      font-size: var(--font-size-20);
      color: var(--ambita-purple-600);
      border-bottom: 2px solid var(--ambita-purple-400);
      padding-bottom: var(--spacing-s);
      font-weight: var(--font-weight-semibold);
      font-family: var(--font-family-display);
    }
    
    .site-nav-sidebar h4 {
      margin: var(--spacing-l) 0 var(--spacing-s) 0;
      font-size: 14px;
      color: var(--ambita-purple-500);
      text-transform: uppercase;
      letter-spacing: 1px;
      font-weight: var(--font-weight-bold);
    }
    
    .site-nav-sidebar h4:first-of-type {
      margin-top: 0;
    }
    
    .site-nav-sidebar ul {
      list-style: none;
      margin: 0 0 var(--spacing-l) 0;
      padding: 0;
    }
    
    .site-nav-sidebar ul:last-child {
      margin-bottom: 0;
    }
    
    .site-nav-sidebar li {
      margin: 0;
      padding: 0;
    }
    
    .site-nav-sidebar a {
      display: block;
      padding: var(--spacing-s) var(--spacing-m);
      color: var(--ambita-purple-600);
      text-decoration: none;
      border-radius: var(--border-radius-s);
      font-size: var(--font-size-16);
      font-weight: var(--font-weight-medium);
      transition: all 0.2s ease;
      border: 1px solid transparent;
      white-space: nowrap;
    }
    
    .site-nav-sidebar a:hover {
      background-color: var(--ambita-purple-200);
      color: var(--ambita-purple-500);
      text-decoration: none;
      border-color: var(--ambita-purple-300);
    }
    
    .site-nav-sidebar a.current {
      background-color: var(--ambita-purple-500);
      color: var(--ambita-white);
      font-weight: var(--font-weight-semibold);
      border-color: var(--ambita-purple-400);
    }
    
    /* GitHub Link Styling */
    .github-link {
      margin-top: var(--spacing-l);
      padding-top: var(--spacing-l);
      border-top: 1px solid var(--ambita-purple-200);
    }
    
    .github-link a {
      display: flex;
      align-items: center;
      gap: var(--spacing-xs);
      padding: var(--spacing-s) var(--spacing-m);
      color: var(--ambita-grey-400);
      text-decoration: none;
      border-radius: var(--border-radius-s);
      font-size: 14px;
      font-weight: var(--font-weight-medium);
      transition: all 0.2s ease;
      border: 1px solid transparent;
    }
    
    .github-link a:hover {
      background-color: var(--ambita-purple-200);
      color: var(--ambita-purple-600);
      text-decoration: none;
      border-color: var(--ambita-purple-300);
    }
    
    .github-link svg {
      flex-shrink: 0;
    }
    
    /* Header Styling */
    .site-header {
      border-bottom: 1px solid var(--ambita-purple-200);
      background: var(--ambita-white);
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .site-title {
      font-family: var(--font-family-display) !important;
      color: var(--ambita-purple-600) !important;
      font-weight: var(--font-weight-bold);
      text-decoration: none;
    }

    .site-title:hover {
      color: var(--ambita-purple-500) !important;
    }

    .header-actions {
      display: flex;
      align-items: center;
      gap: var(--spacing-m);
      margin-left: auto;
    }

    .layout-width-toggle {
      border: 1px solid var(--ambita-purple-300);
      background: var(--ambita-white);
      color: var(--ambita-purple-500);
      border-radius: var(--border-radius-s);
      padding: var(--spacing-xs) var(--spacing-m);
      font-family: var(--font-family-body);
      font-size: var(--font-size-16);
      cursor: pointer;
      transition: background 0.2s ease, color 0.2s ease, border-color 0.2s ease;
    }

    .layout-width-toggle:hover {
      background-color: var(--ambita-purple-200);
      color: var(--ambita-purple-600);
      border-color: var(--ambita-purple-400);
    }

    .layout-width-toggle:focus {
      outline: 2px solid var(--ambita-focus);
      outline-offset: 2px;
    }
    
    /* Main Content Styling */
    .main-content {
      background: var(--ambita-white);
      border-radius: var(--border-radius-m);
      padding: var(--spacing-xl);
      box-shadow: 0 2px 4px rgba(13, 10, 39, 0.1);
    }
    
    /* Code Blocks */
    pre, code {
      background: var(--ambita-grey-100);
      border: 1px solid var(--ambita-grey-200);
      border-radius: var(--border-radius-s);
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    }
    
    pre {
      padding: var(--spacing-l);
      overflow-x: auto;
    }
    
    code:not(pre code) {
      padding: 2px var(--spacing-xs);
      font-size: 14px;
    }
    
    /* Links */
    a {
      color: var(--ambita-purple-600);
      text-decoration: underline;
      transition: color 0.2s ease;
    }
    
    a:hover {
      color: var(--ambita-purple-500);
      text-decoration: none;
    }
    
    /* Tables */
    table {
      border-collapse: collapse;
      border: 1px solid var(--ambita-purple-200);
      border-radius: var(--border-radius-s);
      overflow: hidden;
    }
    
    th, td {
      border: 1px solid var(--ambita-purple-200);
      padding: var(--spacing-s) var(--spacing-m);
      text-align: left;
    }
    
    th {
      background: var(--ambita-purple-100);
      font-weight: var(--font-weight-semibold);
      color: var(--ambita-purple-600);
    }
    
    /* Buttons and Interactive Elements */
    .btn {
      background: var(--ambita-purple-500);
      color: var(--ambita-white);
      border: none;
      padding: var(--spacing-s) var(--spacing-l);
      border-radius: var(--border-radius-s);
      font-family: var(--font-family-title);
      font-weight: var(--font-weight-medium);
      text-decoration: none;
      display: inline-block;
      transition: all 0.2s ease;
    }
    
    .btn:hover {
      background: var(--ambita-purple-400);
      color: var(--ambita-white);
      text-decoration: none;
      transform: translateY(-1px);
    }
    
    /* Layout Width */
    .wrapper {
      max-width: 1400px !important;
    }

    body.full-width .wrapper {
      max-width: none !important;
      width: calc(100% - 2rem); /* Leave space for button and padding */
      padding-right: 1rem;
      padding-left: 1rem;
    }
    
    /* Ensure header wrapper also respects viewport bounds */
    body.full-width .site-header .wrapper {
      width: calc(100% - 2rem);
      padding-right: 1rem;
      padding-left: 1rem;
    }
    
    /* Mobile Responsive */
    @media screen and (max-width: 768px) {
      .content-wrapper {
        flex-direction: column;
        gap: var(--spacing-l);
      }
      
      .sidebar {
        order: 1;
        flex: none;
        width: 100%;
      }
      
      .main-content {
        order: 2;
        padding: var(--spacing-l);
      }
      
      .site-nav-sidebar {
        position: static;
      }
      
      h1 {
        font-size: var(--font-size-30);
        line-height: 34px;
      }
    }
  </style>

  <body>

    {%- include header.html -%}

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="content-wrapper">
          <aside class="sidebar">
            <nav class="site-nav-sidebar">
              <h3>Documentation</h3>
              
              <div class="nav-section">
                <ul>
                  <li><a href="{{ '/README' | relative_url }}"{% if page.url contains 'README' %} class="current"{% endif %}>📋 Overview</a></li>
                </ul>
              </div>
              
              <div class="nav-section">
                <h4>Main Process Flow</h4>
                <ul>
                  <li><a href="{{ '/docs/boliginformasjon' | relative_url }}"{% if page.url contains 'boliginformasjon' %} class="current"{% endif %}>Boliginformasjon</a></li>
                  <li><a href="{{ '/docs/forhandsutlysing' | relative_url }}"{% if page.url contains 'forhandsutlysing' %} class="current"{% endif %}>Forhåndsutlysing</a></li>
                  <li><a href="{{ '/docs/salgsmelding' | relative_url }}"{% if page.url contains 'salgsmelding' %} class="current"{% endif %}>Salgsmelding</a></li>
                  <li><a href="{{ '/docs/endring-overdragelsesdato' | relative_url }}"{% if page.url contains 'endring-overdragelsesdato' %} class="current"{% endif %}>Endring overdragelsesdato</a></li>
                  <li><a href="{{ '/docs/endring-kjopere' | relative_url }}"{% if page.url contains 'endring-kjopere' %} class="current"{% endif %}>Endring kjøpere</a></li>
                  <li><a href="{{ '/docs/sluttbrev' | relative_url }}"{% if page.url contains 'sluttbrev' %} class="current"{% endif %}>Sluttbrev</a></li>
                  <li><a href="{{ '/docs/restanse' | relative_url }}"{% if page.url contains 'restanse' %} class="current"{% endif %}>Restanse</a></li>
                </ul>
              </div>

              <div class="nav-section">
                <h4>Standalone Messages</h4>
                <ul>
                  <li><a href="{{ '/docs/sumgjeld' | relative_url }}"{% if page.url contains 'sumgjeld' %} class="current"{% endif %}>SumGjeld</a></li>
                  <li><a href="{{ '/docs/sumfelleskostnader' | relative_url }}"{% if page.url contains 'sumfelleskostnader' %} class="current"{% endif %}>SumFelleskostnader</a></li>
                </ul>
              </div>

              <div class="nav-section">
                <h4>System Messages</h4>
                <ul>
                  <li><a href="{{ '/docs/feilmeldinger' | relative_url }}"{% if page.url contains 'feilmeldinger' %} class="current"{% endif %}>Feilmeldinger</a></li>
                </ul>
              </div>
              
              <div class="nav-section">
                <div class="github-link">
                  <a href="https://github.com/Ambita/samhandling_megler_boligbyggelag_docs/" target="_blank" rel="noopener noreferrer">
                    <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                      <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
                    </svg>
                    View on GitHub
                  </a>
                </div>
              </div>
            </nav>
          </aside>

          <article class="main-content">
            {{ content }}
          </article>
        </div>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/mermaid@11.11.0/dist/mermaid.min.js"></script>
    <script>
      (function () {
        if (window.mermaid) {
          window.mermaid.initialize({
            startOnLoad: true,
            theme: 'neutral'
          });
        }
      })();
    </script>

    {%- include footer.html -%}

  </body>

</html>
